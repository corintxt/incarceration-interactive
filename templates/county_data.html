{% extends "layout.html" %}

{% block content %}

<div class="charts text-center">
    <div class="row"><div id="bar"></div></div><hr>
    <div id="vis-tooltip" class="vg-tooltip"></div>
  </div>
</div>

<!-- Render Charts -->
<script type="text/javascript">
  function parse(url, div) {
    var opt = {
      mode: "vega-lite",
      renderer: "svg",
      actions: {export: true, source: false, editor: false}
    };
    vegaEmbed("#"+div, url, opt, function(error, result) {
      // result.view is the Vega View, url is the original Vega-Lite specification
      vegaTooltip.vegaLite(result.view, url);
    });
  }
  //tells vega where to find the JSON for each bar type
  parse("/bar", "bar") // this is what calls the /bar route
</script>

{% endblock %}